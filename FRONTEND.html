<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOTE-AHOLIC | Custom Online Voting System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #e63946;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* Header Styles */
        header {
            text-align: center;
            padding: 30px 20px;
            margin-bottom: 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo-icon {
            background: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: var(--box-shadow);
        }
        
        .logo-text {
            font-size: 42px;
            font-weight: 800;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
        }
        
        .tagline {
            font-size: 18px;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        /* Tabs Navigation */
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            border-bottom: 2px solid rgba(0, 0, 0, 0.05);
            padding-bottom: 5px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            border-bottom: 4px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tab:hover {
            color: var(--primary);
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        /* Tab Content */
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Dashboard Section */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .dashboard-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            transition: all 0.3s ease;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
        }
        
        .dashboard-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dashboard-stat {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .dashboard-desc {
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .dashboard-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .dashboard-btn:hover {
            background: var(--primary-dark);
        }
        
        /* Setup Voting Section */
        .setup-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 50px;
        }
        
        .setup-steps {
            display: flex;
            margin-bottom: 40px;
            position: relative;
        }
        
        .setup-steps:before {
            content: '';
            position: absolute;
            top: 24px;
            left: 30px;
            right: 30px;
            height: 3px;
            background: #e9ecef;
            z-index: 1;
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            background: #e9ecef;
            color: var(--gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            font-weight: 700;
            margin: 0 auto 15px;
            transition: all 0.3s ease;
        }
        
        .step.active .step-number {
            background: var(--primary);
            color: white;
        }
        
        .step.completed .step-number {
            background: var(--success);
            color: white;
        }
        
        .step-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
        }
        
        .step-desc {
            color: var(--gray);
            font-size: 14px;
        }
        
        .setup-form {
            margin-top: 30px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
            font-size: 18px;
        }
        
        .form-input, .form-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .candidate-fields {
            background: #f8f9fa;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            border: 2px dashed #dee2e6;
        }
        
        .add-candidate-btn {
            background: transparent;
            color: var(--primary);
            border: 2px dashed var(--primary);
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 auto;
        }
        
        .add-candidate-btn:hover {
            background: rgba(67, 97, 238, 0.1);
        }
        
        .remove-candidate-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }
        
        .remove-candidate-btn:hover {
            background: #c1121f;
        }
        
        .setup-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .btn-secondary {
            background: var(--gray);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
        }
        
        /* Voting Section */
        .election-header {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .election-title {
            font-size: 32px;
            color: var(--dark);
            margin-bottom: 10px;
        }
        
        .election-description {
            color: var(--gray);
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .election-meta {
            display: flex;
            gap: 30px;
            color: var(--gray);
            font-size: 16px;
        }
        
        .election-meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .candidates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .candidate-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .candidate-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
        }
        
        .candidate-image {
            height: 200px;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            font-size: 80px;
        }
        
        .candidate-info {
            padding: 25px;
        }
        
        .candidate-name {
            font-size: 22px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 8px;
        }
        
        .candidate-party {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .candidate-bio {
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .vote-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .vote-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .vote-btn:hover {
            background: var(--primary-dark);
        }
        
        .vote-btn.voted {
            background: var(--success);
            pointer-events: none;
        }
        
        .vote-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
        }
        
        /* Results Section */
        .results-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 50px;
        }
        
        .result-item {
            margin-bottom: 25px;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .candidate-name-bar {
            font-weight: 600;
        }
        
        .vote-percentage {
            font-weight: 700;
            color: var(--primary);
        }
        
        .vote-bar-container {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .vote-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 10px;
            width: 0;
            transition: width 1.5s ease;
        }
        
        .total-votes {
            text-align: center;
            font-size: 18px;
            color: var(--gray);
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        /* User Voting Status */
        .user-status {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-top: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--danger);
        }
        
        .status-dot.voted {
            background: var(--success);
        }
        
        .reset-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .reset-btn:hover {
            background: #e11570;
        }
        
        /* My Elections Section */
        .elections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .election-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            transition: all 0.3s ease;
        }
        
        .election-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
        }
        
        .election-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .election-card-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--dark);
        }
        
        .election-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-active {
            background: rgba(76, 201, 240, 0.2);
            color: var(--success);
        }
        
        .status-closed {
            background: rgba(230, 57, 70, 0.2);
            color: var(--danger);
        }
        
        .election-card-desc {
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 20px;
            height: 60px;
            overflow: hidden;
        }
        
        .election-card-meta {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .election-card-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            flex: 1;
            padding: 10px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 14px;
        }
        
        .view-btn {
            background: var(--primary);
            color: white;
            border: none;
        }
        
        .view-btn:hover {
            background: var(--primary-dark);
        }
        
        .results-btn {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .results-btn:hover {
            background: rgba(67, 97, 238, 0.1);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px 0;
            color: var(--gray);
            font-size: 16px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            margin-top: 50px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .footer-links a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: var(--secondary);
            text-decoration: underline;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .setup-steps {
                flex-direction: column;
                gap: 30px;
            }
            
            .setup-steps:before {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .logo-text {
                font-size: 32px;
            }
            
            .tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .tab {
                width: 100%;
                max-width: 300px;
                text-align: center;
                justify-content: center;
            }
            
            .election-meta {
                flex-direction: column;
                gap: 15px;
            }
            
            .user-status {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .setup-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn-secondary, .btn-primary {
                width: 100%;
            }
        }

        /* Admin Dashboard Styles */
        .admin-dashboard {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .admin-stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
        }

        .admin-stat-card.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .admin-stat-card.total {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .admin-stat-value {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .admin-stat-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .admin-election-card {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .admin-election-card:hover {
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .admin-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .admin-card-header h3 {
            margin: 0;
            color: var(--dark);
        }

        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
            background: #e9ecef;
            color: #6c757d;
        }

        .status-badge.active {
            background: #d4edda;
            color: #155724;
        }

        .status-badge.draft {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.closed {
            background: #f8d7da;
            color: #721c24;
        }

        .admin-card-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 15px;
            text-align: center;
        }

        .stat {
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        .admin-card-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 16px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: var(--primary);
            color: white;
        }

        .btn-small:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-small.btn-info {
            background: #17a2b8;
        }

        .btn-small.btn-info:hover {
            background: #138496;
        }

        .btn-small.btn-danger {
            background: var(--danger);
        }

        .btn-small.btn-danger:hover {
            background: #c1121f;
        }

        .admin-details {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 20px;
        }

        .admin-details h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .admin-details h4 {
            color: var(--dark);
            margin-top: 20px;
            margin-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .details-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .details-row div {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .candidate-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-left: 4px solid var(--primary);
            margin-bottom: 10px;
            border-radius: 4px;
        }

        .candidate-info {
            flex: 1;
        }

        .candidate-info strong {
            display: block;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .candidate-info small {
            color: var(--gray);
            font-size: 12px;
        }

        .candidate-votes {
            text-align: right;
            min-width: 100px;
        }

        .candidate-votes strong {
            font-size: 18px;
            color: var(--primary);
            display: block;
        }

        .vote-percent {
            font-size: 12px;
            color: var(--gray);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .notification.show {
            opacity: 1;
        }

        .notification-success {
            background: #4cc9f0;
        }

        .notification-error {
            background: #e63946;
        }

        .notification-warning {
            background: #f8961e;
        }

        .notification-info {
            background: #457b9d;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: var(--gray);
        }

        .error {
            text-align: center;
            padding: 40px;
            color: var(--danger);
            background: rgba(230, 57, 70, 0.1);
            border-radius: var(--border-radius);
        }

        /* User Button Styling */
        #userStatusBtn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        #userStatusBtn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        /* Admin Mode Indicator */
        .admin-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 15px;
            background: rgba(67, 97, 238, 0.2);
            border: 2px solid var(--primary);
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
            color: var(--primary);
        }

        .admin-indicator.active {
            background: var(--primary);
            color: white;
        }

        /* Election Stats Display */
        .election-stats {
            display: flex;
            gap: 20px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .election-stats span {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 14px;
        }

        .election-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .election-actions button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            background: var(--primary);
            color: white;
            transition: all 0.3s ease;
        }

        .election-actions button:hover {
            background: var(--primary-dark);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-vote-yea"></i>
                </div>
                <div class="logo-text">VOTE-AHOLIC</div>
            </div>
            <p class="tagline">Create custom online voting systems for schools, organizations, and institutions. Set up elections in minutes with our easy-to-use platform.</p>
        </header>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('dashboard')">
                <i class="fas fa-home"></i> Dashboard
            </div>
            <div class="tab" onclick="switchTab('setup')">
                <i class="fas fa-plus-circle"></i> Create New Election
            </div>
            <div class="tab" onclick="switchTab('my-elections')">
                <i class="fas fa-clipboard-list"></i> My Elections
            </div>
            <div class="tab" onclick="switchTab('vote')">
                <i class="fas fa-vote-yea"></i> Vote Now
            </div>
            <div class="tab" onclick="switchTab('results')">
                <i class="fas fa-chart-bar"></i> View Results
            </div>
            <div class="tab" onclick="toggleAdminMode()">
                <i class="fas fa-lock-open"></i> Admin
            </div>
            <button id="userStatusBtn" onclick="loginUser()" style="margin-left: auto;"></button>
        </div>
        
        <!-- Admin Dashboard Tab -->
        <div id="admin-dashboard" class="tab-content">
            <div class="admin-dashboard">
                <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
                <div class="admin-stats">
                    <div class="admin-stat-card total">
                        <div class="admin-stat-value" id="adminTotalElections">0</div>
                        <div class="admin-stat-label">Total Elections</div>
                    </div>
                    <div class="admin-stat-card active">
                        <div class="admin-stat-value" id="adminActiveElections">0</div>
                        <div class="admin-stat-label">Active Elections</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="adminTotalVotes">0</div>
                        <div class="admin-stat-label">Total Votes</div>
                    </div>
                </div>
                
                <h3>Elections Overview</h3>
                <div id="adminElectionsList" style="margin-bottom: 30px;">
                    <div class="loading">Loading elections...</div>
                </div>
                
                <h3>Election Details</h3>
                <div id="adminElectionDetails"></div>
            </div>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard">
                <div class="dashboard-card">
                    <h3 class="dashboard-title"><i class="fas fa-plus-circle"></i> Create New Election</h3>
                    <div class="dashboard-stat">+ New</div>
                    <p class="dashboard-desc">Set up a custom voting event for your organization, school, or community group. Add candidates, set voting rules, and launch in minutes.</p>
                    <button class="dashboard-btn" onclick="switchTab('setup')">
                        <i class="fas fa-plus"></i> Create Election
                    </button>
                </div>
                
                <div class="dashboard-card">
                    <h3 class="dashboard-title"><i class="fas fa-vote-yea"></i> Active Elections</h3>
                    <div class="dashboard-stat" id="activeElectionsCount">3</div>
                    <p class="dashboard-desc">Elections currently accepting votes. You can participate in these elections or view real-time results as votes come in.</p>
                    <button class="dashboard-btn" onclick="switchTab('vote')">
                        <i class="fas fa-vote-yea"></i> Vote Now
                    </button>
                </div>
                
                <div class="dashboard-card">
                    <h3 class="dashboard-title"><i class="fas fa-clipboard-list"></i> My Elections</h3>
                    <div class="dashboard-stat" id="myElectionsCount">5</div>
                    <p class="dashboard-desc">View and manage all elections you've created. Monitor voter turnout, view results, or close elections when voting ends.</p>
                    <button class="dashboard-btn" onclick="switchTab('my-elections')">
                        <i class="fas fa-list"></i> View All
                    </button>
                </div>
            </div>
            
            <div class="setup-container">
                <h2 style="font-size: 28px; color: var(--dark); margin-bottom: 20px; text-align: center;">How It Works</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 25px; margin-top: 30px;">
                    <div style="text-align: center;">
                        <div style="background: var(--primary); color: white; width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; margin: 0 auto 20px;">
                            <i class="fas fa-edit"></i>
                        </div>
                        <h3 style="color: var(--dark); margin-bottom: 10px;">1. Create Election</h3>
                        <p style="color: var(--gray);">Set up your election details, add candidates, and configure voting rules.</p>
                    </div>
                    
                    <div style="text-align: center;">
                        <div style="background: var(--primary); color: white; width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; margin: 0 auto 20px;">
                            <i class="fas fa-share-square"></i>
                        </div>
                        <h3 style="color: var(--dark); margin-bottom: 10px;">2. Share with Voters</h3>
                        <p style="color: var(--gray);">Share the unique voting link with eligible voters in your organization.</p>
                    </div>
                    
                    <div style="text-align: center;">
                        <div style="background: var(--primary); color: white; width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; margin: 0 auto 20px;">
                            <i class="fas fa-vote-yea"></i>
                        </div>
                        <h3 style="color: var(--dark); margin-bottom: 10px;">3. Collect Votes</h3>
                        <p style="color: var(--gray);">Voters cast their ballots securely with one-vote-per-user protection.</p>
                    </div>
                    
                    <div style="text-align: center;">
                        <div style="background: var(--primary); color: white; width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; margin: 0 auto 20px;">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3 style="color: var(--dark); margin-bottom: 10px;">4. View Results</h3>
                        <p style="color: var(--gray);">Monitor real-time results with visual charts and vote breakdowns.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Setup Election Tab -->
        <div id="setup" class="tab-content">
            <div class="setup-container">
                <h2 style="font-size: 28px; color: var(--dark); margin-bottom: 20px; text-align: center;">Create New Election</h2>
                <p style="text-align: center; color: var(--gray); margin-bottom: 40px; font-size: 18px;">Set up a custom voting event in 4 simple steps</p>
                
                <div class="setup-steps">
                    <div class="step active" id="step1">
                        <div class="step-number">1</div>
                        <div class="step-title">Election Details</div>
                        <div class="step-desc">Basic information</div>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <div class="step-title">Add Candidates</div>
                        <div class="step-desc">Who's running?</div>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-number">3</div>
                        <div class="step-title">Voting Rules</div>
                        <div class="step-desc">Configure settings</div>
                    </div>
                    <div class="step" id="step4">
                        <div class="step-number">4</div>
                        <div class="step-title">Review & Launch</div>
                        <div class="step-desc">Finalize election</div>
                    </div>
                </div>
                
                <div class="setup-form">
                    <!-- Step 1: Election Details -->
                    <div id="formStep1" class="form-step active">
                        <div class="form-group">
                            <label class="form-label">Election Title *</label>
                            <input type="text" class="form-input" id="electionTitle" placeholder="e.g., Student Council Election 2023" value="Student Council Election 2023">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Election Description *</label>
                            <textarea class="form-textarea" id="electionDescription" placeholder="Describe the purpose and scope of this election...">Vote for your student council representatives for the 2023-2024 academic year. All registered students are eligible to vote.</textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Organization/Institution *</label>
                                <input type="text" class="form-input" id="electionOrganization" placeholder="e.g., University of Technology" value="University of Technology">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Election Type *</label>
                                <select class="form-input" id="electionType">
                                    <option value="student">Student Election</option>
                                    <option value="corporate">Corporate/Board Election</option>
                                    <option value="community">Community Election</option>
                                    <option value="association">Association Election</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setup-actions">
                            <div></div>
                            <button class="btn-primary" onclick="nextStep(2)">Next: Add Candidates <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    
                    <!-- Step 2: Add Candidates -->
                    <div id="formStep2" class="form-step" style="display: none;">
                        <div id="candidatesContainer">
                            <!-- Candidate fields will be added here dynamically -->
                            <div class="candidate-fields">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Candidate Name *</label>
                                        <input type="text" class="form-input candidate-name" placeholder="e.g., John Smith" value="Alexandra Chen">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Party/Affiliation</label>
                                        <input type="text" class="form-input candidate-party" placeholder="e.g., Progressive Alliance" value="Progressive Alliance">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Candidate Bio/Description</label>
                                    <textarea class="form-textarea candidate-bio" placeholder="Brief description of the candidate...">Former student representative with focus on campus improvements, mental health resources, and student events. Majoring in Political Science.</textarea>
                                </div>
                            </div>
                            
                            <div class="candidate-fields">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Candidate Name *</label>
                                        <input type="text" class="form-input candidate-name" placeholder="e.g., John Smith" value="Marcus Johnson">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Party/Affiliation</label>
                                        <input type="text" class="form-input candidate-party" placeholder="e.g., Unity Coalition" value="Unity Coalition">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Candidate Bio/Description</label>
                                    <textarea class="form-textarea candidate-bio" placeholder="Brief description of the candidate...">Current class president with proven track record on academic reforms and campus safety initiatives. Majoring in Engineering.</textarea>
                                </div>
                            </div>
                            
                            <div class="candidate-fields">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Candidate Name *</label>
                                        <input type="text" class="form-input candidate-name" placeholder="e.g., John Smith" value="Sophia Rodriguez">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Party/Affiliation</label>
                                        <input type="text" class="form-input candidate-party" placeholder="e.g., Green Future Party" value="Green Future Party">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Candidate Bio/Description</label>
                                    <textarea class="form-textarea candidate-bio" placeholder="Brief description of the candidate...">Environmental advocate focused on sustainability initiatives, campus gardens, and reducing plastic use. Majoring in Environmental Science.</textarea>
                                </div>
                                <button class="remove-candidate-btn" onclick="removeCandidate(this)">
                                    <i class="fas fa-times"></i> Remove Candidate
                                </button>
                            </div>
                        </div>
                        
                        <button class="add-candidate-btn" onclick="addCandidateField()">
                            <i class="fas fa-plus"></i> Add Another Candidate
                        </button>
                        
                        <div class="setup-actions">
                            <button class="btn-secondary" onclick="prevStep(1)"><i class="fas fa-arrow-left"></i> Back</button>
                            <button class="btn-primary" onclick="nextStep(3)">Next: Voting Rules <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    
                    <!-- Step 3: Voting Rules -->
                    <div id="formStep3" class="form-step" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Voting Start Date *</label>
                                <input type="date" class="form-input" id="voteStartDate" value="2023-10-15">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Voting End Date *</label>
                                <input type="date" class="form-input" id="voteEndDate" value="2023-10-22">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Voting Instructions</label>
                            <textarea class="form-textarea" id="voteInstructions" placeholder="Instructions for voters...">Each registered student may vote for one candidate. Voting is anonymous and cannot be changed once submitted.</textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="allowVoteChange" style="margin-right: 10px;">
                                Allow voters to change their vote
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="requireVoterId" style="margin-right: 10px;" checked>
                                Require voter identification (email or ID)
                            </label>
                        </div>
                        
                        <div class="setup-actions">
                            <button class="btn-secondary" onclick="prevStep(2)"><i class="fas fa-arrow-left"></i> Back</button>
                            <button class="btn-primary" onclick="nextStep(4)">Next: Review & Launch <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    
                    <!-- Step 4: Review & Launch -->
                    <div id="formStep4" class="form-step" style="display: none;">
                        <div style="background: #f8f9fa; padding: 25px; border-radius: var(--border-radius); margin-bottom: 30px;">
                            <h3 style="color: var(--dark); margin-bottom: 20px; font-size: 22px;">Election Summary</h3>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div>
                                    <strong style="color: var(--gray); display: block;">Election Title:</strong>
                                    <span id="reviewTitle">Student Council Election 2023</span>
                                </div>
                                <div>
                                    <strong style="color: var(--gray); display: block;">Organization:</strong>
                                    <span id="reviewOrganization">University of Technology</span>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <strong style="color: var(--gray); display: block;">Description:</strong>
                                <span id="reviewDescription">Vote for your student council representatives for the 2023-2024 academic year. All registered students are eligible to vote.</span>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <strong style="color: var(--gray); display: block;">Candidates:</strong>
                                <div id="reviewCandidates" style="margin-top: 10px;">
                                    <!-- Candidates will be listed here -->
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div>
                                    <strong style="color: var(--gray); display: block;">Voting Period:</strong>
                                    <span id="reviewVotingPeriod">Oct 15, 2023 - Oct 22, 2023</span>
                                </div>
                                <div>
                                    <strong style="color: var(--gray); display: block;">Voting Rules:</strong>
                                    <span id="reviewVotingRules">One vote per user  Voter ID required</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setup-actions">
                            <button class="btn-secondary" onclick="prevStep(3)"><i class="fas fa-arrow-left"></i> Back</button>
                            <button class="btn-primary" onclick="launchElection()">
                                <i class="fas fa-rocket"></i> Launch Election
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- My Elections Tab -->
        <div id="my-elections" class="tab-content">
            <h2 style="font-size: 28px; color: var(--dark); margin-bottom: 20px;">My Elections</h2>
            <p style="color: var(--gray); margin-bottom: 30px; font-size: 18px;">Manage elections you've created. Click on an election to view details, monitor votes, or close the election.</p>
            
            <div class="elections-grid" id="myElectionsGrid">
                <!-- Election cards will be dynamically added here -->
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="dashboard-btn" onclick="switchTab('setup')">
                    <i class="fas fa-plus"></i> Create New Election
                </button>
            </div>
        </div>
        
        <!-- Vote Tab -->
        <div id="vote" class="tab-content">
            <div class="election-header">
                <h1 class="election-title" id="currentElectionTitle">Student Council Election 2023</h1>
                <p class="election-description" id="currentElectionDescription">Vote for your student council representatives for the 2023-2024 academic year. All registered students are eligible to vote.</p>
                <div class="election-meta">
                    <div class="election-meta-item">
                        <i class="fas fa-university"></i>
                        <span id="currentElectionOrg">University of Technology</span>
                    </div>
                    <div class="election-meta-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span id="currentElectionDates">Oct 15, 2023 - Oct 22, 2023</span>
                    </div>
                    <div class="election-meta-item">
                        <i class="fas fa-users"></i>
                        <span id="currentElectionCandidates">3 Candidates</span>
                    </div>
                </div>
            </div>
            
            <div class="candidates-grid" id="votingCandidatesGrid">
                <!-- Candidate voting cards will be dynamically added here -->
            </div>
            
            <div class="user-status">
                <div class="status-indicator">
                    <div class="status-dot" id="voteStatusDot"></div>
                    <div id="voteStatusText">You have not voted yet. Please select a candidate above.</div>
                </div>
                <button class="reset-btn" onclick="resetVote()">
                    <i class="fas fa-redo"></i> Reset My Vote
                </button>
            </div>
        </div>
        
        <!-- Results Tab -->
        <div id="results" class="tab-content">
            <div class="election-header">
                <h1 class="election-title" id="resultsElectionTitle">Student Council Election 2023</h1>
                <p class="election-description" id="resultsElectionDescription">Live results for the student council election. Results update in real-time as votes are cast.</p>
                <div class="election-meta">
                    <div class="election-meta-item">
                        <i class="fas fa-university"></i>
                        <span id="resultsElectionOrg">University of Technology</span>
                    </div>
                    <div class="election-meta-item">
                        <i class="fas fa-chart-line"></i>
                        <span id="resultsElectionStatus">Live Results  3,724 Votes Cast</span>
                    </div>
                </div>
            </div>
            
            <div class="results-container" id="resultsContainer">
                <!-- Results will be dynamically added here -->
            </div>
            
            <div class="user-status">
                <div class="status-indicator">
                    <div class="status-dot" id="resultsStatusDot"></div>
                    <div id="resultsStatusText">You have not voted yet. Your vote will be counted once you cast it.</div>
                </div>
                <button class="reset-btn" onclick="switchTab('vote')">
                    <i class="fas fa-vote-yea"></i> Go Vote
                </button>
            </div>
        </div>
        
        <footer>
            <p> 2023 VOTE-AHOLIC Custom Voting System. All rights reserved.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
                <a href="#">FAQ</a>
            </div>
        </footer>
    </div>
    
    <script>
        // Application State
        let appState = {
            currentStep: 1,
            elections: [],
            currentElectionId: null,
            hasVoted: false,
            currentVote: null
        };
        
        // Initialize with sample elections
        function initializeSampleElections() {
            const sampleElection = {
                id: 1,
                title: "Student Council Election 2023",
                description: "Vote for your student council representatives for the 2023-2024 academic year. All registered students are eligible to vote.",
                organization: "University of Technology",
                type: "student",
                startDate: "2023-10-15",
                endDate: "2023-10-22",
                candidates: [
                    { id: 1, name: "Alexandra Chen", party: "Progressive Alliance", bio: "Former student representative with focus on campus improvements, mental health resources, and student events. Majoring in Political Science.", votes: 1452 },
                    { id: 2, name: "Marcus Johnson", party: "Unity Coalition", bio: "Current class president with proven track record on academic reforms and campus safety initiatives. Majoring in Engineering.", votes: 1285 },
                    { id: 3, name: "Sophia Rodriguez", party: "Green Future Party", bio: "Environmental advocate focused on sustainability initiatives, campus gardens, and reducing plastic use. Majoring in Environmental Science.", votes: 987 }
                ],
                allowVoteChange: false,
                requireVoterId: true,
                status: "active",
                createdAt: new Date().toISOString()
            };
            
            appState.elections.push(sampleElection);
            appState.currentElectionId = 1;
            
            // Add a few more sample elections
            appState.elections.push({
                id: 2,
                title: "Board of Directors Election",
                description: "Annual election for the Board of Directors. Each member organization may cast one vote.",
                organization: "Tech Industry Association",
                type: "corporate",
                startDate: "2023-09-01",
                endDate: "2023-09-30",
                candidates: [
                    { id: 1, name: "Robert Chen", party: "Incumbent", bio: "Current board chair with 5 years of experience.", votes: 42 },
                    { id: 2, name: "Sarah Williams", party: "Reform Coalition", bio: "Advocate for greater transparency and member involvement.", votes: 38 }
                ],
                allowVoteChange: true,
                requireVoterId: true,
                status: "closed",
                createdAt: new Date().toISOString()
            });
            
            appState.elections.push({
                id: 3,
                title: "Community Center Committee",
                description: "Election for the new community center steering committee members.",
                organization: "Maplewood Community",
                type: "community",
                startDate: "2023-11-01",
                endDate: "2023-11-15",
                candidates: [
                    { id: 1, name: "James Wilson", party: "Independent", bio: "Longtime community member and volunteer.", votes: 120 },
                    { id: 2, name: "Maria Garcia", party: "Independent", bio: "Local business owner and community advocate.", votes: 95 },
                    { id: 3, name: "David Kim", party: "Independent", bio: "Retired teacher with grant writing experience.", votes: 78 }
                ],
                allowVoteChange: false,
                requireVoterId: false,
                status: "active",
                createdAt: new Date().toISOString()
            });
        }
        
        // Tab switching function
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Activate clicked tab (find by onclick attribute)
            document.querySelectorAll('.tab').forEach(tab => {
                if (tab.getAttribute('onclick') === `switchTab('${tabName}')`) {
                    tab.classList.add('active');
                }
            });
            
            // Update content based on tab
            if (tabName === 'my-elections') {
                loadMyElections();
            } else if (tabName === 'vote') {
                loadVotingInterface();
            } else if (tabName === 'results') {
                loadResults();
            } else if (tabName === 'dashboard') {
                updateDashboardStats();
            }
        }
        
        // Setup wizard navigation
        function nextStep(step) {
            // Update step UI
            document.querySelectorAll('.step').forEach(s => {
                s.classList.remove('active');
            });
            document.getElementById(`step${step}`).classList.add('active');
            
            // Mark previous steps as completed
            for (let i = 1; i < step; i++) {
                document.getElementById(`step${i}`).classList.add('completed');
            }
            
            // Show/hide form steps
            document.querySelectorAll('.form-step').forEach(formStep => {
                formStep.style.display = 'none';
            });
            document.getElementById(`formStep${step}`).style.display = 'block';
            
            // Update review section on step 4
            if (step === 4) {
                updateReviewSection();
            }
            
            appState.currentStep = step;
        }
        
        function prevStep(step) {
            nextStep(step);
        }
        
        // Add candidate field in setup form
        function addCandidateField() {
            const container = document.getElementById('candidatesContainer');
            const candidateCount = container.children.length + 1;
            
            const newCandidate = document.createElement('div');
            newCandidate.className = 'candidate-fields';
            newCandidate.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Candidate Name *</label>
                        <input type="text" class="form-input candidate-name" placeholder="e.g., John Smith">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Party/Affiliation</label>
                        <input type="text" class="form-input candidate-party" placeholder="e.g., Progressive Alliance">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Candidate Bio/Description</label>
                    <textarea class="form-textarea candidate-bio" placeholder="Brief description of the candidate..."></textarea>
                </div>
                <button class="remove-candidate-btn" onclick="removeCandidate(this)">
                    <i class="fas fa-times"></i> Remove Candidate
                </button>
            `;
            
            container.appendChild(newCandidate);
        }
        
        function removeCandidate(button) {
            if (document.querySelectorAll('.candidate-fields').length > 1) {
                button.closest('.candidate-fields').remove();
            } else {
                alert("You need at least one candidate for the election.");
            }
        }
        
        // Update review section before launch
        function updateReviewSection() {
            // Get form values
            const title = document.getElementById('electionTitle').value;
            const description = document.getElementById('electionDescription').value;
            const organization = document.getElementById('electionOrganization').value;
            const startDate = document.getElementById('voteStartDate').value;
            const endDate = document.getElementById('voteEndDate').value;
            
            // Format dates
            const startDateFormatted = new Date(startDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            const endDateFormatted = new Date(endDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            
            // Get candidates
            const candidateNames = [];
            document.querySelectorAll('.candidate-name').forEach(input => {
                if (input.value.trim() !== '') {
                    candidateNames.push(input.value);
                }
            });
            
            // Update review section
            document.getElementById('reviewTitle').textContent = title;
            document.getElementById('reviewOrganization').textContent = organization;
            document.getElementById('reviewDescription').textContent = description;
            document.getElementById('reviewVotingPeriod').textContent = `${startDateFormatted} - ${endDateFormatted}`;
            
            const requireVoterId = document.getElementById('requireVoterId').checked;
            const votingRules = requireVoterId ? 'One vote per user  Voter ID required' : 'One vote per user  No ID required';
            document.getElementById('reviewVotingRules').textContent = votingRules;
            
            // Update candidates list
            const candidatesList = document.getElementById('reviewCandidates');
            candidatesList.innerHTML = '';
            candidateNames.forEach((name, index) => {
                const partyInput = document.querySelectorAll('.candidate-party')[index];
                const party = partyInput ? partyInput.value : 'No party';
                
                const candidateItem = document.createElement('div');
                candidateItem.style.marginBottom = '5px';
                candidateItem.innerHTML = `<strong>${name}</strong> (${party})`;
                candidatesList.appendChild(candidateItem);
            });
        }
        
        // Launch new election
        function launchElection() {
            // Get form values
            const title = document.getElementById('electionTitle').value;
            const description = document.getElementById('electionDescription').value;
            const organization = document.getElementById('electionOrganization').value;
            const type = document.getElementById('electionType').value;
            const startDate = document.getElementById('voteStartDate').value;
            const endDate = document.getElementById('voteEndDate').value;
            const instructions = document.getElementById('voteInstructions').value;
            const allowVoteChange = document.getElementById('allowVoteChange').checked;
            const requireVoterId = document.getElementById('requireVoterId').checked;
            
            // Get candidates
            const candidates = [];
            document.querySelectorAll('.candidate-fields').forEach((field, index) => {
                const nameInput = field.querySelector('.candidate-name');
                const partyInput = field.querySelector('.candidate-party');
                const bioInput = field.querySelector('.candidate-bio');
                
                if (nameInput.value.trim() !== '') {
                    candidates.push({
                        id: index + 1,
                        name: nameInput.value,
                        party: partyInput ? partyInput.value : 'Independent',
                        bio: bioInput ? bioInput.value : '',
                        votes: 0
                    });
                }
            });
            
            // Validate
            if (!title || !description || !organization) {
                alert("Please fill in all required fields (marked with *)");
                return;
            }
            
            if (candidates.length < 2) {
                alert("Please add at least two candidates for the election.");
                return;
            }
            
            // Create new election object
            const newElection = {
                id: appState.elections.length + 1,
                title: title,
                description: description,
                organization: organization,
                type: type,
                startDate: startDate,
                endDate: endDate,
                instructions: instructions,
                candidates: candidates,
                allowVoteChange: allowVoteChange,
                requireVoterId: requireVoterId,
                status: "active",
                createdAt: new Date().toISOString()
            };
            
            // Add to elections array
            appState.elections.push(newElection);
            appState.currentElectionId = newElection.id;
            
            // Reset form
            document.getElementById('electionTitle').value = '';
            document.getElementById('electionDescription').value = '';
            document.getElementById('electionOrganization').value = '';
            document.getElementById('voteInstructions').value = '';
            
            // Remove all but one candidate field
            const candidateFields = document.querySelectorAll('.candidate-fields');
            for (let i = 1; i < candidateFields.length; i++) {
                candidateFields[i].remove();
            }
            
            // Reset the first candidate field
            const firstCandidate = candidateFields[0];
            firstCandidate.querySelector('.candidate-name').value = '';
            firstCandidate.querySelector('.candidate-party').value = '';
            firstCandidate.querySelector('.candidate-bio').value = '';
            
            // Reset to step 1
            nextStep(1);
            
            // Show success message and switch to vote tab
            alert(`Election "${title}" has been successfully created!`);
            switchTab('vote');
        }
        
        // Load user's elections
        function loadMyElections() {
            const grid = document.getElementById('myElectionsGrid');
            grid.innerHTML = '';
            
            appState.elections.forEach(election => {
                const statusClass = election.status === 'active' ? 'status-active' : 'status-closed';
                const statusText = election.status === 'active' ? 'Active' : 'Closed';
                
                // Calculate total votes
                const totalVotes = election.candidates.reduce((sum, candidate) => sum + candidate.votes, 0);
                
                const electionCard = document.createElement('div');
                electionCard.className = 'election-card';
                electionCard.innerHTML = `
                    <div class="election-card-header">
                        <div class="election-card-title">${election.title}</div>
                        <div class="election-status ${statusClass}">${statusText}</div>
                    </div>
                    <p class="election-card-desc">${election.description}</p>
                    <div class="election-card-meta">
                        <div><i class="fas fa-university"></i> ${election.organization}</div>
                        <div><i class="fas fa-vote-yea"></i> ${totalVotes} votes</div>
                    </div>
                    <div class="election-card-actions">
                        <button class="action-btn view-btn" onclick="viewElection(${election.id})">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="action-btn results-btn" onclick="viewElectionResults(${election.id})">
                            <i class="fas fa-chart-bar"></i> Results
                        </button>
                    </div>
                `;
                
                grid.appendChild(electionCard);
            });
            
            // Update count
            document.getElementById('myElectionsCount').textContent = appState.elections.length;
        }
        
        // View specific election
        function viewElection(electionId) {
            const election = appState.elections.find(e => e.id === electionId);
            if (!election) return;
            
            appState.currentElectionId = electionId;
            switchTab('vote');
        }
        
        // View election results
        function viewElectionResults(electionId) {
            const election = appState.elections.find(e => e.id === electionId);
            if (!election) return;
            
            appState.currentElectionId = electionId;
            switchTab('results');
        }
        
        // Load voting interface
        function loadVotingInterface() {
            const election = appState.elections.find(e => e.id === appState.currentElectionId);
            if (!election) {
                // If no election is selected, use the first one
                if (appState.elections.length > 0) {
                    appState.currentElectionId = appState.elections[0].id;
                    loadVotingInterface();
                }
                return;
            }
            
            // Update election header
            document.getElementById('currentElectionTitle').textContent = election.title;
            document.getElementById('currentElectionDescription').textContent = election.description;
            document.getElementById('currentElectionOrg').textContent = election.organization;
            
            // Format dates
            const startDate = new Date(election.startDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            const endDate = new Date(election.endDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            document.getElementById('currentElectionDates').textContent = `${startDate} - ${endDate}`;
            document.getElementById('currentElectionCandidates').textContent = `${election.candidates.length} Candidates`;
            
            // Load candidates for voting
            const grid = document.getElementById('votingCandidatesGrid');
            grid.innerHTML = '';
            
            election.candidates.forEach(candidate => {
                const candidateCard = document.createElement('div');
                candidateCard.className = 'candidate-card';
                candidateCard.innerHTML = `
                    <div class="candidate-image" style="background-color: #e3f2fd;">
                        <i class="fas fa-user-tie" style="color: #1976d2;"></i>
                    </div>
                    <div class="candidate-info">
                        <h3 class="candidate-name">${candidate.name}</h3>
                        <span class="candidate-party">${candidate.party}</span>
                        <p class="candidate-bio">${candidate.bio}</p>
                        <div class="vote-section">
                            <div class="vote-count">Votes: <span id="votes${candidate.id}">${formatNumber(candidate.votes)}</span></div>
                            <button class="vote-btn" onclick="castVote(${candidate.id})">Vote Now</button>
                        </div>
                    </div>
                `;
                
                grid.appendChild(candidateCard);
            });
            
            // Update voting status
            updateVotingStatus();
        }
        
        // Cast a vote
        function castVote(candidateId) {
            if (appState.hasVoted && !appState.elections.find(e => e.id === appState.currentElectionId).allowVoteChange) {
                alert("You have already voted! This election does not allow vote changes.");
                return;
            }
            
            const election = appState.elections.find(e => e.id === appState.currentElectionId);
            if (!election) return;
            
            const candidate = election.candidates.find(c => c.id === candidateId);
            if (!candidate) return;
            
            // Confirm vote
            if (confirm(`Are you sure you want to vote for ${candidate.name}?`)) {
                // If changing vote, remove previous vote
                if (appState.hasVoted && appState.currentVote !== candidateId) {
                    const previousCandidate = election.candidates.find(c => c.id === appState.currentVote);
                    if (previousCandidate) previousCandidate.votes--;
                }
                
                // Add new vote
                candidate.votes++;
                
                // Update state
                appState.hasVoted = true;
                appState.currentVote = candidateId;
                
                // Update UI
                loadVotingInterface();
                updateVotingStatus();
                
                // Show success message
                alert(`Thank you for voting! Your vote for ${candidate.name} has been recorded.`);
            }
        }
        
        // Reset vote for demo purposes
        function resetVote() {
            if (!appState.hasVoted) {
                alert("You haven't voted yet!");
                return;
            }
            
            const election = appState.elections.find(e => e.id === appState.currentElectionId);
            if (!election) return;
            
            if (confirm("Are you sure you want to reset your vote? This will allow you to vote again.")) {
                // Remove vote
                const candidate = election.candidates.find(c => c.id === appState.currentVote);
                if (candidate) candidate.votes--;
                
                // Reset state
                appState.hasVoted = false;
                appState.currentVote = null;
                
                // Update UI
                loadVotingInterface();
                updateVotingStatus();
                
                alert("Your vote has been reset. You can now vote again.");
            }
        }
        
        // Update voting status display
        function updateVotingStatus() {
            const statusDot = document.getElementById('voteStatusDot');
            const statusText = document.getElementById('voteStatusText');
            
            if (appState.hasVoted) {
                const election = appState.elections.find(e => e.id === appState.currentElectionId);
                const candidate = election.candidates.find(c => c.id === appState.currentVote);
                
                statusDot.className = 'status-dot voted';
                statusText.textContent = `You voted for ${candidate.name}. Thank you for participating!`;
            } else {
                statusDot.className = 'status-dot';
                statusText.textContent = 'You have not voted yet. Please select a candidate above.';
            }
        }
        
        // Load results
        function loadResults() {
            const election = appState.elections.find(e => e.id === appState.currentElectionId);
            if (!election) return;
            
            // Update election header for results
            document.getElementById('resultsElectionTitle').textContent = election.title;
            document.getElementById('resultsElectionDescription').textContent = election.description;
            document.getElementById('resultsElectionOrg').textContent = election.organization;
            
            // Calculate total votes
            const totalVotes = election.candidates.reduce((sum, candidate) => sum + candidate.votes, 0);
            const statusText = election.status === 'active' ? 'Live Results' : 'Final Results';
            document.getElementById('resultsElectionStatus').textContent = `${statusText}  ${formatNumber(totalVotes)} Votes Cast`;
            
            // Load results
            const container = document.getElementById('resultsContainer');
            container.innerHTML = '';
            
            election.candidates.forEach(candidate => {
                const percent = totalVotes > 0 ? Math.round((candidate.votes / totalVotes) * 100) : 0;
                
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="result-header">
                        <div class="candidate-name-bar">${candidate.name} (${candidate.party})</div>
                        <div class="vote-percentage">${percent}%</div>
                    </div>
                    <div class="vote-bar-container">
                        <div class="vote-bar" style="width: ${percent}%;"></div>
                    </div>
                `;
                
                container.appendChild(resultItem);
            });
            
            // Add total votes
            const totalVotesDiv = document.createElement('div');
            totalVotesDiv.className = 'total-votes';
            totalVotesDiv.innerHTML = `Total Votes Cast: <strong>${formatNumber(totalVotes)}</strong>`;
            container.appendChild(totalVotesDiv);
            
            // Update results status
            const resultsStatusDot = document.getElementById('resultsStatusDot');
            const resultsStatusText = document.getElementById('resultsStatusText');
            
            if (appState.hasVoted) {
                const candidate = election.candidates.find(c => c.id === appState.currentVote);
                resultsStatusDot.className = 'status-dot voted';
                resultsStatusText.textContent = `You voted for ${candidate.name}. Your vote has been counted.`;
            } else {
                resultsStatusDot.className = 'status-dot';
                resultsStatusText.textContent = 'You have not voted yet. Your vote will be counted once you cast it.';
            }
        }
        
        // Update dashboard statistics
        function updateDashboardStats() {
            const activeElections = appState.elections.filter(e => e.status === 'active').length;
            document.getElementById('activeElectionsCount').textContent = activeElections;
            document.getElementById('myElectionsCount').textContent = appState.elections.length;
        }
        
        // Format numbers with commas
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        // Initialize the applicati
        document.addEventListener('DOMContentLoaded', function() {
            initializeSampleElections();
            loadMyElections();
            updateDashboardStats();
            
            // Set default dates for setup form
            const today = new Date();
            const nextWeek = new Date();
            nextWeek.setDate(today.getDate() + 7);
            
            document.getElementById('voteStartDate').valueAsDate = today;
            document.getElementById('voteEndDate').valueAsDate = nextWeek;
        });
    </script>
    
    <!-- Enhanced Frontend with Database Integration -->
    <script src="frontend-enhanced.js"></script>
    
    <!-- API Client - Connect to Node.js Backend -->
    <script src="api.js"></script>
</body>
</html>